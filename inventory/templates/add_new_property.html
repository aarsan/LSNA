<!DOCTYPE html>
<html>
<head>
<script src="{{ STATIC_URL }}jquery.js">
</script>
</head>
<body>
<script>
  $('document').ready(function() {

function myFunction() 
{
  var full_street = $(this).text();
  $('#data_box').html("<form><input type='text' value='"+ full_street + "' readonly>");
  $('#data_box').append("&nbsp;(Range: 1 - 1477)");
  $('#data_box').append("</br>Type the house number (must be within range):");
  $('#data_box').append("<form><input type='text'></form>");
}

      $('#button').click(function() {
          var street = document.getElementById("street").value;

          $.ajax({
              dataType: "json",
              url: "{{ url }}&{{ qstring }}",
              data: { street: street },
              crossDomain: true,
              success: function(response) {

                  $('#data_box').html('<h3>Pick a matching street</h3>');

                  $.each(response, function (key, value) {
                      $('#data_box').append("<a id='" + value[':id'] + "' href='#' class='runMyFunction'>" + value.full_street_name + "</a>    Address Range: " + value.min_address + "-" + value.max_address + "</br>");
                      
                  });
                  $('#data_box').on('click', '.runMyFunction', myFunction);
              }
         });
      });
  });

</script>
<p>Enter just the street name (leave out prefix and suffix)</p>
<p>example: For "N. Kedzie Ave.", just type Kedzie</p>
<form id='address_query'>
<label for='street'>Street: </label>
<input id='street' type='text' name='street'></br>
<div id="stuff"><input type="button" value='search' id="button"></div>
</form>

</br>
  <div id='data_box'>
  </div>
</br>
</br>
</body>
</html>
